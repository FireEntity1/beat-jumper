[gd_scene load_steps=7 format=3 uid="uid://bbbc0ialstsck"]

[ext_resource type="Script" uid="uid://cmet2ui0aer24" path="res://scripts/editor.gd" id="1_b1cmn"]
[ext_resource type="Texture2D" uid="uid://bx2hdbcsx4v41" path="res://sprites/music_upload.png" id="2_ba0ut"]
[ext_resource type="Texture2D" uid="uid://chisdg250e4xb" path="res://sprites/image_upload.png" id="3_q68jb"]
[ext_resource type="AudioStream" uid="uid://c844h23x0bc8g" path="res://components/[For EGCS 2023 FN-TB] trung-nova - Roars of V.E.N.G.E.A.N.C.E -Take Back Everything-.mp3" id="4_q68jb"]
[ext_resource type="Texture2D" uid="uid://doau53rctjgb7" path="res://sprites/folder.png" id="4_xg7d5"]
[ext_resource type="PackedScene" uid="uid://cd0l2flrue8ie" path="res://scenes/main_game.tscn" id="6_eqbpn"]

[node name="editor" type="Node2D"]
script = ExtResource("1_b1cmn")

[node name="bg" type="ColorRect" parent="."]
offset_right = 1926.0
offset_bottom = 1087.0
mouse_filter = 2
color = Color(0, 0, 0, 1)

[node name="title" type="LineEdit" parent="."]
offset_left = 661.0
offset_top = 11.0
offset_right = 1289.0
offset_bottom = 85.0
theme_override_font_sizes/font_size = 24
placeholder_text = "SONG TITLE"
alignment = 1

[node name="subtitle" type="LineEdit" parent="."]
offset_left = 1301.0
offset_top = 10.0
offset_right = 1790.0
offset_bottom = 84.0
theme_override_font_sizes/font_size = 24
placeholder_text = "SUB TITLE"
alignment = 1

[node name="artist" type="LineEdit" parent="."]
offset_left = 226.0
offset_top = 11.0
offset_right = 649.0
offset_bottom = 85.0
theme_override_font_sizes/font_size = 24
placeholder_text = "ARTIST"
alignment = 1

[node name="bpm" type="LineEdit" parent="."]
offset_left = 1799.0
offset_top = 11.0
offset_right = 1904.0
offset_bottom = 51.0
theme_override_font_sizes/font_size = 24
placeholder_text = "BPM"
alignment = 1

[node name="offset" type="LineEdit" parent="."]
offset_left = 1799.0
offset_top = 52.0
offset_right = 1904.0
offset_bottom = 92.0
theme_override_font_sizes/font_size = 24
placeholder_text = "OFFSET"
alignment = 1

[node name="pickmusic" type="TextureButton" parent="."]
offset_left = 171.0
offset_top = 3.0
offset_right = 219.0
offset_bottom = 51.0
texture_normal = ExtResource("2_ba0ut")

[node name="pickimage" type="TextureButton" parent="."]
offset_left = 171.0
offset_top = 50.0
offset_right = 222.0
offset_bottom = 101.0
texture_normal = ExtResource("3_q68jb")

[node name="pickfolder" type="TextureButton" parent="."]
offset_left = 111.0
offset_top = 3.0
offset_right = 162.0
offset_bottom = 54.0
texture_normal = ExtResource("4_xg7d5")

[node name="hor_scroll" type="HScrollBar" parent="."]
offset_left = 332.0
offset_top = 134.0
offset_right = 1899.0
offset_bottom = 210.0

[node name="scroll" type="ScrollContainer" parent="."]
custom_minimum_size = Vector2(0, 800)
offset_top = 238.0
offset_right = 1919.0
offset_bottom = 1038.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="tracks" type="VBoxContainer" parent="scroll"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="lines_layer" type="Control" parent="scroll/tracks"]
layout_mode = 2
mouse_filter = 2

[node name="song_length" type="Label" parent="."]
offset_left = 8.0
offset_top = 1037.0
offset_right = 215.0
offset_bottom = 1080.0
theme_override_font_sizes/font_size = 32
text = "LENGTH: 0:00"

[node name="song_events" type="Label" parent="."]
offset_left = 1676.0
offset_top = 1037.0
offset_right = 1914.0
offset_bottom = 1080.0
theme_override_font_sizes/font_size = 32
text = "EVENTS: 0"

[node name="song" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("4_q68jb")

[node name="timeline" type="HBoxContainer" parent="."]
offset_top = 202.0
offset_right = 1920.0
offset_bottom = 242.0
mouse_filter = 2

[node name="cursor" type="ColorRect" parent="."]
offset_left = 337.0
offset_top = 208.0
offset_right = 340.0
offset_bottom = 1017.0
color = Color(1, 1, 1, 0.292)

[node name="scale" type="LineEdit" parent="."]
offset_left = 199.0
offset_top = 142.0
offset_right = 319.0
offset_bottom = 198.0
theme_override_font_sizes/font_size = 32
text = "1/1"
placeholder_text = "x/x"
alignment = 1

[node name="FileDialog" type="FileDialog" parent="."]

[node name="play" type="Button" parent="."]
offset_left = 94.0
offset_top = 130.0
offset_right = 176.0
offset_bottom = 198.0
text = "play"

[node name="layer" type="CanvasLayer" parent="."]
visible = false

[node name="preview_container" type="SubViewportContainer" parent="layer"]
offset_left = 426.0
offset_top = 149.0
offset_right = 2346.0
offset_bottom = 1229.0
scale = Vector2(0.6, 0.6)

[node name="preview" type="SubViewport" parent="layer/preview_container"]
disable_3d = true
handle_input_locally = false
use_hdr_2d = true
audio_listener_enable_2d = true
size = Vector2i(1920, 1080)
render_target_update_mode = 0

[node name="main_game" parent="layer/preview_container/preview" instance=ExtResource("6_eqbpn")]
is_preview = true

[connection signal="text_changed" from="title" to="." method="_on_title_text_changed"]
[connection signal="text_changed" from="subtitle" to="." method="_on_subtitle_text_changed"]
[connection signal="text_changed" from="artist" to="." method="_on_artist_text_changed"]
[connection signal="text_changed" from="bpm" to="." method="_on_bpm_text_changed"]
[connection signal="text_changed" from="offset" to="." method="_on_offset_text_changed"]
[connection signal="button_up" from="pickmusic" to="." method="_on_pickmusic_button_up"]
[connection signal="button_up" from="pickimage" to="." method="_on_pickimage_button_up"]
[connection signal="button_up" from="pickfolder" to="." method="_on_pickfolder_button_up"]
[connection signal="scroll_ended" from="scroll" to="." method="_on_scroll_scroll_ended"]
[connection signal="text_submitted" from="scale" to="." method="_on_scale_text_submitted"]
[connection signal="button_up" from="play" to="." method="_on_play_button_up"]
